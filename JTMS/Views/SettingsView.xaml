<UserControl
    x:Class="JTMS.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:VM="clr-namespace:JTMS.ViewModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:JTMS.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:Background="WhiteSmoke"
    d:DataContext="{d:DesignInstance Type=VM:SettingsViewModel}"
    d:DesignHeight="650"
    d:DesignWidth="1000"
    mc:Ignorable="d">
    <Grid>
        <!--    -->

        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1.8*" MaxWidth="700" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <materialDesign:Card
            Grid.Row="0"
            Grid.Column="0"
            Grid.ColumnSpan="3"
            Background="LightGray"
            UniformCornerRadius="0">
            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>

                <TextBlock
                    Margin="10"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="#2E2E2E"
                    Text="Settings" />

                <Button
                    Margin="5"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#FFCD02"
                    Command="{Binding MigrateCMD}"
                    Cursor="Hand"
                    FontSize="16"
                    Foreground="White">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="20"
                                Margin="0,2,0,0"
                                VerticalAlignment="Center"
                                Kind="Database" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="DB Migrate" />
                        </StackPanel>
                    </Button.Content>
                </Button>

            </Grid>
        </materialDesign:Card>

        <StackPanel Grid.Row="1" Margin="10,10,0,5">

            <TextBox
                x:Name="CompName"
                Padding="8"
                VerticalAlignment="Center"
                VerticalContentAlignment="Center"
                materialDesign:HintAssist.Foreground="Black"
                materialDesign:HintAssist.Hint="Database Connection String"
                materialDesign:HintAssist.IsFloating="True"
                Background="White"
                BorderBrush="Gray"
                BorderThickness="1"
                FontSize="14"
                FontWeight="DemiBold"
                Text="{Binding ConnectionString}" />

            <TextBox
                Margin="0,10,0,0"
                Padding="8"
                VerticalAlignment="Center"
                VerticalContentAlignment="Center"
                materialDesign:HintAssist.Foreground="Black"
                materialDesign:HintAssist.Hint="Database Version"
                materialDesign:HintAssist.IsFloating="True"
                Background="White"
                BorderBrush="Gray"
                BorderThickness="1"
                FontSize="14"
                FontWeight="DemiBold"
                Text="{Binding DBVersion}" />

            <Grid Margin="5">

                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>

                <TextBlock
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 1 (Mold Ready)" />

                <ComboBox
                    x:Name="cPort1"
                    Grid.Row="0"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port1}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="0"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn1, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="0"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port1"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <TextBlock
                    Grid.Row="1"
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 2 (Quality check)" />

                <ComboBox
                    x:Name="cPort2"
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port2}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="1"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn2, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="1"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port2"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <TextBlock
                    Grid.Row="2"
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 3 (Pouring)" />

                <ComboBox
                    x:Name="cPort3"
                    Grid.Row="2"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port3}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="2"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn3, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="2"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port3"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <TextBlock
                    Grid.Row="3"
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 4 (Ready on Pallet)" />

                <ComboBox
                    x:Name="cPort4"
                    Grid.Row="3"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port4}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="3"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn4, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="3"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port4"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <TextBlock
                    Grid.Row="4"
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 4 (Ready on Pallet)" />

                <ComboBox
                    x:Name="cPort4_2"
                    Grid.Row="4"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port4_2}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="4"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn4_2, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="4"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port4_2"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <TextBlock
                    Grid.Row="5"
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 5 (Mold broken)" />

                <ComboBox
                    x:Name="cPort5"
                    Grid.Row="5"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port5}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="5"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn5, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="5"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port5"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <TextBlock
                    Grid.Row="6"
                    VerticalAlignment="Center"
                    FontSize="16"
                    FontWeight="DemiBold"
                    Text="Process 6 (Stone broken)" />

                <ComboBox
                    x:Name="cPort6"
                    Grid.Row="6"
                    Grid.Column="1"
                    Margin="5"
                    Padding="10"
                    VerticalAlignment="Center"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="5"
                    materialDesign:ThemeAssist.Theme="Light"
                    BorderBrush="Gray"
                    BorderThickness="2"
                    Cursor="Hand"
                    DropDownOpened="ComboBox_DropDownOpened"
                    FontWeight="DemiBold"
                    ItemsSource="{Binding SerialPorts}"
                    SelectedValue="{Binding Port6}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    Foreground="#243447"
                                    Text="{Binding}" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="#243447"
                                    Kind="UsbPort" />
                            </StackPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Border
                    Grid.Row="6"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Margin="5"
                    VerticalAlignment="Center"
                    Background="{Binding PortConn6, Converter={StaticResource boolToColorCon}}"
                    CornerRadius="50"
                    Cursor="Hand"
                    ToolTip="Connection status"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

                <Button
                    Grid.Row="6"
                    Grid.Column="3"
                    Margin="5"
                    Padding="7"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    materialDesign:ButtonAssist.CornerRadius="5"
                    Background="#3F494D"
                    Command="{Binding DisconnectCMD}"
                    CommandParameter="Port6"
                    Content="{materialDesign:PackIcon Kind=PowerPlugOff,
                                                      Size=20}"
                    Cursor="Hand"
                    Foreground="White"
                    ToolTip="disconnect"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="0" />

            </Grid>

            <Button
                Width="120"
                Height="40"
                Margin="10"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                materialDesign:ButtonAssist.CornerRadius="5"
                Background="White"
                Command="{Binding SaveSettingsCommand}"
                FontSize="16"
                Foreground="#2E2E2E">
                <Button.Content>
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon
                            Width="20"
                            Height="20"
                            Margin="0,2,0,0"
                            VerticalAlignment="Center"
                            Kind="Settings" />
                        <TextBlock
                            Margin="5,0,0,0"
                            VerticalAlignment="Center"
                            Text="Save" />
                    </StackPanel>
                </Button.Content>
            </Button>

        </StackPanel>

        <TextBlock
            Grid.Row="1"
            Grid.Column="2"
            Margin="10"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            FontSize="16"
            FontStyle="Italic"
            FontWeight="DemiBold"
            Text="v2.3.0" />
    </Grid>
</UserControl>
